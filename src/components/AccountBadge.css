.account-badge {
  position: relative;
  display: flex;
  align-items: center;
}

.account-toggle {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: transparent;
  border: 0;
  color: var(--text);
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  border-radius: 8px;
}

.account-toggle:focus {
  outline: 2px solid var(--primary);
}

.account-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid var(--border);
}

.account-name {
  font-size: 0.9rem;
  font-weight: 600;
}

.account-staff-icon {
  margin-left: 0.1rem;
  margin-right: -0.4rem;
  color: var(--accent, #0066ff);
  display: inline-flex;
  vertical-align: middle;
}

.account-menu {
  position: absolute;
  right: 0;
  top: calc(100% + 8px);
  background: var(--bg);
  border: 1px solid var(--border);
  box-shadow: 0 8px 24px var(--shadow);
  border-radius: 8px;
  min-width: 160px;
  display: flex;
  flex-direction: column;
  padding: 0.25rem;
  z-index: 40;
}

/* When the badge is placed inside the left sidebar, push it to the bottom
   and make the dropdown open upwards so it doesn't overflow the sidebar.
   This also applies on mobile where the sidebar becomes static. */
.game-sidebar .account-badge {
  margin-top: auto;
  /* give a little breathing room from the bottom edge */
  padding-bottom: 0.5rem;
}

.game-sidebar .account-badge .account-menu {
  /* open above the badge instead of below */
  top: auto;
  bottom: calc(100% + 8px);
  right: 0;
  left: auto;
}

.account-menu-item {
  background: transparent;
  border: 0;
  text-align: left;
  padding: 0.6rem 0.8rem;
  cursor: pointer;
  border-radius: 6px;
  color: var(--text);
  font-weight: 600;
}

.account-menu-item:hover {
  background: rgba(0, 0, 0, 0.04);
}

.account-menu-item.logout {
  color: var(--danger, #d9534f);
}

/* On very small screens don't remove the name entirely â€” truncate it with ellipsis */
@media (max-width: 480px) {
  .account-name {
    display: inline-block;
    max-width: 6.5rem;
    /* room for avatar + small name */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-size: 0.85rem;
  }

  .account-toggle {
    gap: 0.4rem;
    padding: 0.25rem 0.4rem;
  }
}
